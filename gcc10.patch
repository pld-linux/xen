--- xen-4.13.1/tools/firmware/etherboot/Config~	2020-05-14 14:19:32.000000000 +0200
+++ xen-4.13.1/tools/firmware/etherboot/Config	2020-06-07 17:14:49.704183136 +0200
@@ -7,3 +7,5 @@
 
 CFLAGS += -UCONSOLE_SERIAL
 CFLAGS += -DCONSOLE_SERIAL=1
+
+CFLAGS += -Wno-error=enum-conversion -Wno-error=maybe-uninitialized
--- xen-4.13.1/stubdom/vtpmmgr/vtpmmgr.h.orig	2020-06-07 18:20:43.261215712 +0200
+++ xen-4.13.1/stubdom/vtpmmgr/vtpmmgr.h	2020-06-07 18:20:56.731170041 +0200
@@ -50,11 +50,6 @@
 #define RSA_KEY_SIZE 0x0800
 #define RSA_CIPHER_SIZE (RSA_KEY_SIZE / 8)
 
-enum {
-    TPM1_HARDWARE = 1,
-    TPM2_HARDWARE,
-} tpm_version;
-
 struct tpm_hardware_version {
     int hw_version;
 };
--- xen-4.13.1/stubdom/vtpmmgr/vtpmmgr.c~	2020-05-14 14:19:32.000000000 +0200
+++ xen-4.13.1/stubdom/vtpmmgr/vtpmmgr.c	2020-06-07 18:23:14.950766928 +0200
@@ -45,6 +45,11 @@
 #include "vtpmmgr.h"
 #include "tcg.h"
 
+enum {
+    TPM1_HARDWARE = 1,
+    TPM2_HARDWARE,
+} tpm_version;
+
 struct tpm_hardware_version hardware_version = {
     .hw_version = TPM1_HARDWARE,
 };
