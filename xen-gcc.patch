--- xen-3.0.4_1-src/Config.mk	2007-01-08 15:00:44.000000000 +0000
+++ xen-3.0.4_1-src/Config.mk	2007-01-10 10:04:04.000000000 +0000
@@ -13,7 +13,7 @@ CONFIG_$(XEN_OS) := y
 
 # Tools to run on system hosting the build
 HOSTCC      = gcc
-HOSTCFLAGS  = -Wall -Werror -Wstrict-prototypes -O2 -fomit-frame-pointer
+HOSTCFLAGS  = -Werror -Wstrict-prototypes -O2 -fomit-frame-pointer
 HOSTCFLAGS += -fno-strict-aliasing
 HOSTCFLAGS_x86_32 = -m32
 HOSTCFLAGS_x86_64 = -m64
@@ -39,7 +39,7 @@ endif
 
 CFLAGS += -std=gnu99
 
-CFLAGS += -Wall -Wstrict-prototypes
+CFLAGS += -Wstrict-prototypes 
 
 # -Wunused-value makes GCC 4.x too aggressive for my taste: ignoring the
 # result of any casted expression causes a warning.
--- xen-3.2.0-rc4/tools/blktap/drivers/Makefile~	2007-11-02 19:29:31.000000000 +0100
+++ xen-3.2.0-rc4/tools/blktap/drivers/Makefile	2007-12-25 17:26:40.922320015 +0100
@@ -8,7 +8,7 @@
 INST_DIR     = /usr/sbin
 LIBAIO_DIR   = ../../libaio/src
 
-CFLAGS   += -Werror
+#CFLAGS   += -Werror
 CFLAGS   += -Wno-unused
 CFLAGS   += -I $(XEN_LIBXC) -I $(LIBAIO_DIR)
 CFLAGS   += $(INCLUDES) -I. -I../../xenstore 
--- xen-3.2.0-rc4/tools/libxc/xc_ptrace_core.c~	2007-11-02 19:29:33.000000000 +0100
+++ xen-3.2.0-rc4/tools/libxc/xc_ptrace_core.c	2007-12-25 19:29:38.411444951 +0100
@@ -653,7 +653,7 @@
 xc_waitdomain_core(int xc_handle, int domfd, int *status, int options,
                    vcpu_guest_context_t *ctxt)
 {
-    int ret;
+    int ret = -1;
     int i;
 
     for (i = 0; i < NR_FORMAT_TYPE; i++) {
diff -uNr xen-3.4.3.old/tools/xenstat/xentop/Makefile xen-3.4.3/tools/xenstat/xentop/Makefile
--- xen-3.4.3.old/tools/xenstat/xentop/Makefile	2010-06-03 19:42:38.000000000 +0200
+++ xen-3.4.3/tools/xenstat/xentop/Makefile	2011-10-23 21:06:28.194802016 +0200
@@ -18,7 +18,7 @@
 all install xentop:
 else
 
-CFLAGS += -DGCC_PRINTF -Wall -Werror -I$(XEN_LIBXENSTAT)
+CFLAGS += -DGCC_PRINTF -Wall -I$(XEN_LIBXENSTAT)
 LDFLAGS += -L$(XEN_LIBXENSTAT)
 LDLIBS += -lxenstat $(CURSES_LIBS) $(SOCKET_LIBS)
 CFLAGS += -DHOST_$(XEN_OS)
diff -uNr xen-3.4.3.old/tools/firmware/Rules.mk xen-3.4.3/tools/firmware/Rules.mk
--- xen-3.4.3.old/tools/firmware/Rules.mk	2010-06-03 19:42:28.000000000 +0200
+++ xen-3.4.3/tools/firmware/Rules.mk	2011-10-25 11:34:59.570970994 +0200
@@ -18,4 +18,4 @@
 $(call cc-option-add,CFLAGS,CC,-fno-stack-protector-all)
 
 # Extra CFLAGS suitable for an embedded type of environment.
-CFLAGS += -fno-builtin -msoft-float
+CFLAGS += -fno-builtin -msoft-float -O1
